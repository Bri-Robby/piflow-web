<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <body>
    <div th:fragment=table>
<script th:src="@{/charisma/js/layer/layer.js}"></script>
<!-- content starts -->
<div class="row"><!--row-->
	<div class="box col-md-12"><!--span-->
        <div class="box-content">
            <div class="alert alert-info">
            	<form id="uploadForm" enctype="multipart/form-data" method="post">
            		<input type="file" id="templateFile" name="templateFile" style="display:none;" onchange="importFile()"/>
               	 <a class='btn' href='javascript:void(0);' th:onclick="'javascript:uploadTemplate();'"  style='background-color: #C0C0C0;border: 1px solid;color: #080808;' title="upload template">
               	 <i class="glyphicon glyphicon-upload icon-white"></i></a>
           		 </form>
            </div>
            <div class="tableDiv"  >
                <table class="table table-striped table-bordered bootstrap-datatable datatable responsive">
                    <thead>
                    <tr>
                        <th style="display: none">sort</th>
                        <th style="display: none">flowId</th>
                        <th style="display: none">templateId</th>
                        <th>flowName</th>
                        <th>templateName</th>
                        <th>createTime</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody id="tableData">
                    <tr th:each='list:${TemPlateList}'>
                    <td style="display: none" th:text="${listStat.index}"></td>
                        <td style="display: none" class="center" th:text="${list.flow?.id}"></td>
                        <td style="display: none" th:text="${list.id}" ></td>
                        <td class="center" th:text="${list.flow?.name} ? ${list.flow?.name} : 'no flowName'"></td>
                        <td class="center" th:text="${list.name}"></td>
                        <td th:text="${#dates.format(list.crtDttm, 'yyyy-MM-dd HH:mm:ss')}"></td>
                        <td class="center" style="white-space: nowrap;">
                           <!--  <a class="btn" href="javascript:void(0);" th:onclick="'javascript:uploadTemplate();'"  style="background-color: #C0C0C0;border: 1px solid;color: #6b5555;">
                              	upload </a> -->
                            <a class="btn" href="javascript:void(0);" style="background-color: #C0C0C0;border: 1px solid;color: #6b5555;"   th:onclick="'javascript:downloadTemplate(\''+${list.id}+'\');'" title="download template"> 
                           <i class="glyphicon glyphicon-download icon-white"></i>  </a>
                            <a class="btn" href="javascript:void(0);" style=" background-color: #C0C0C0;border: 1px solid;color: #6b5555;" th:onclick="'javascript:deleteTemPlate(\''+${list.id}+'\',\''+${list.name}+'\');'" title="delete template">
                            	<i class="glyphicon glyphicon-trash icon-white"></i></a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div><!--/row-->
<!-- content ends -->
    </div>
  </body>
</html>